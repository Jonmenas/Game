<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Projektas</title>
    <link rel="stylesheet" href="Struktura.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>


</head>
<header>
 <h1> Zaidimas</h1>
</header>
<body style="background-color: white">

<button onclick="pirmyn()">pirmyn</button>
<button onclick="atgal()">atgal</button>
<button onclick="zemyn()">aukstyn</button>
<button onclick="aukstyn()">zemyn</button>



<div id ="contentContainer">
    <div id="img"></div>
    <img id="auto" src="auto.png" width="100" height="60">

</div>

<script type="text/javascript">

    function pirmyn() {
        var elem = document.getElementById("auto");
        var pos = 0;
        var id = setInterval(frame, 10);

        function frame() {
            if (pos == 135) {
                clearInterval(id);
            } else {
                pos++;
                elem.style.left = pos + '5px';
            }
        }
    }
    function atgal() {
        var elem = document.getElementById("auto");
        var pos =135;
        var id = setInterval(frame, 10);

        function frame() {
            if (pos == 0) {
                clearInterval(id);
            } else {
                pos--;
                elem.style.left = pos + '5px';
            }
        }
    }

    function aukstyn() {
        var elem = document.getElementById("auto");
        var pos = 0;
        var id = setInterval(frame, 10);

        function frame() {
            if (pos == 10) {
                clearInterval(id);
            } else {
                pos++;
                elem.style.top = pos + '5px';
            }
        }
    }
    function zemyn() {
        var elem = document.getElementById("auto");
        var pos = 10;
        var id = setInterval(frame, 10);

        function frame() {
            if (pos == -10) {
                clearInterval(id);
            } else {
                pos--;
                elem.style.top = pos + '5px';
            }
        }
    }
        var Auto = document.querySelector("#auto");
        var container = document.querySelector("#contentContainer");

        container.addEventListener("click", getClickPosition, false);

        function getClickPosition(e) {
            var parentPosition = getPosition(e.currentTarget);
            var xPosition = e.clientX - parentPosition.x - (Auto.clientWidth );
            var yPosition = e.clientY - parentPosition.y - (Auto.clientHeight );

            Auto.style.left = xPosition + "px";
            Auto.style.top = yPosition + "px";
        }


function getPosition(el) {
  var xPos = 0;
  var yPos = 0;

  while (el) {
    if (el.tagName == "BODY") {

      var xScroll = el.scrollLeft || document.documentElement.scrollLeft;
      var yScroll = el.scrollTop || document.documentElement.scrollTop;

      xPos += (el.offsetLeft - xScroll + el.clientLeft);
      yPos += (el.offsetTop - yScroll + el.clientTop);
    } else {
      // for all other non-BODY elements
      xPos += (el.offsetLeft - el.scrollLeft + el.clientLeft);
      yPos += (el.offsetTop - el.scrollTop + el.clientTop);
    }

    el = el.offsetParent;
  }
  return {
    x: xPos,
    y: yPos
  };
}



    document.addEventListener('keydown', function (event) {
//left
        if (event.keyCode == 37) {
            auto.x -= 10;
        }
//top
        else if (event.keyCode == 38) {
            auto.y -= 10;
        }
//right
        else if (event.keyCode == 39) {
            auto.x += 10;
        }
//bottom
        else if (event.keyCode == 40) {
            auto.y += 10;
        }

        keistiKordinates("#auto", auto.x, auto.y);
    });
    document.addEventListener('keyup', function (event) {

        $("#auto").stop(true);
    });


</script>

<script src="jqery.js"></script>

</body>

</html>